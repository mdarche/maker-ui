{"version":3,"sources":["../../src/supports/focus-in-hidden-iframe.js"],"names":["element","wrapper","_document","iframe","createElement","appendChild","iframeDocument","contentWindow","document","open","close","mutate","style","visibility","input","body","validate","focus","querySelector","activeElement"],"mappings":";;;;;;;;;;;;;;;;;;oBACe;AACbA,aAAS,iBAASC,OAAT,EAAkBC,SAAlB,EAA6B;AACpC,UAAMC,SAASD,UAAUE,aAAV,CAAwB,QAAxB,CAAf;;AAEA;AACAH,cAAQI,WAAR,CAAoBF,MAApB;;AAEA;AACA,UAAMG,iBAAiBH,OAAOI,aAAP,CAAqBC,QAA5C;AACAF,qBAAeG,IAAf;AACAH,qBAAeI,KAAf;AACA,aAAOP,MAAP;AACD,KAZY;AAabQ,YAAQ,gBAASR,MAAT,EAAiB;AACvBA,aAAOS,KAAP,CAAaC,UAAb,GAA0B,QAA1B;;AAEA,UAAMP,iBAAiBH,OAAOI,aAAP,CAAqBC,QAA5C;AACA,UAAMM,QAAQR,eAAeF,aAAf,CAA6B,OAA7B,CAAd;AACAE,qBAAeS,IAAf,CAAoBV,WAApB,CAAgCS,KAAhC;AACA,aAAOA,KAAP;AACD,KApBY;AAqBbE,cAAU,kBAASb,MAAT,EAAiB;AACzB,UAAMG,iBAAiBH,OAAOI,aAAP,CAAqBC,QAA5C;AACA,UAAMS,QAAQX,eAAeY,aAAf,CAA6B,OAA7B,CAAd;AACA,aAAOZ,eAAea,aAAf,KAAiCF,KAAxC;AACD;AAzBY,G","file":"focus-in-hidden-iframe.js","sourcesContent":["\nexport default {\n  element: function(wrapper, _document) {\n    const iframe = _document.createElement('iframe');\n\n    // iframe must be part of the DOM before accessing the contentWindow is possible\n    wrapper.appendChild(iframe);\n\n    // create the iframe's default document (<html><head></head><body></body></html>)\n    const iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.close();\n    return iframe;\n  },\n  mutate: function(iframe) {\n    iframe.style.visibility = 'hidden';\n\n    const iframeDocument = iframe.contentWindow.document;\n    const input = iframeDocument.createElement('input');\n    iframeDocument.body.appendChild(input);\n    return input;\n  },\n  validate: function(iframe) {\n    const iframeDocument = iframe.contentWindow.document;\n    const focus = iframeDocument.querySelector('input');\n    return iframeDocument.activeElement === focus;\n  },\n};\n"]}