{"version":3,"sources":["../../src/is/is.util.js"],"names":["isUserModifyWritable","hasCssOverflowScroll","hasCssDisplayFlex","isScrollableContainer","style","userModify","webkitUserModify","Boolean","indexOf","getPropertyValue","some","overflow","display","element","nodeName","parentNodeName","parentStyle","offsetHeight","scrollHeight","offsetWidth","scrollWidth"],"mappings":";;;;;QAKgBA,oB,GAAAA,oB;QAOAC,oB,GAAAA,oB;QAQAC,iB,GAAAA,iB;QAIAC,qB,GAAAA,qB;;AAvBhB;AACA;AACA;;AAEO,SAASH,oBAAT,CAA8BI,KAA9B,EAAqC;AAC1C;AACA;AACA,MAAMC,aAAaD,MAAME,gBAAN,IAA0B,EAA7C;AACA,SAAOC,QAAQF,cAAcA,WAAWG,OAAX,CAAmB,OAAnB,MAAgC,CAAC,CAAvD,CAAP;AACD;;AAEM,SAASP,oBAAT,CAA8BG,KAA9B,EAAqC;AAC1C,SAAO,CACLA,MAAMK,gBAAN,CAAuB,UAAvB,CADK,EAELL,MAAMK,gBAAN,CAAuB,YAAvB,CAFK,EAGLL,MAAMK,gBAAN,CAAuB,YAAvB,CAHK,EAILC,IAJK,CAIA;AAAA,WAAYC,aAAa,MAAb,IAAuBA,aAAa,QAAhD;AAAA,GAJA,CAAP;AAKD;;AAEM,SAAST,iBAAT,CAA2BE,KAA3B,EAAkC;AACvC,SAAOA,MAAMQ,OAAN,CAAcJ,OAAd,CAAsB,MAAtB,IAAgC,CAAC,CAAxC;AACD;;AAEM,SAASL,qBAAT,CAA+BU,OAA/B,EAAwCC,QAAxC,EAAkDC,cAAlD,EAAkEC,WAAlE,EAA+E;AACpF,MAAIF,aAAa,KAAb,IAAsBA,aAAa,MAAvC,EAA+C;AAC7C;AACA;AACA;AACA,WAAO,KAAP;AACD;;AAED,MAAIC,kBAAkBA,mBAAmB,KAArC,IAA8CA,mBAAmB,MAAjE,IAA2E,CAACd,qBAAqBe,WAArB,CAAhF,EAAmH;AACjH,WAAO,KAAP;AACD;;AAED,SAAOH,QAAQI,YAAR,GAAuBJ,QAAQK,YAA/B,IAA+CL,QAAQM,WAAR,GAAsBN,QAAQO,WAApF;AACD","file":"is.util.js","sourcesContent":["\n// this is a shared utility file for focus-relevant.js and tabbable.js\n// separate testing of this file's functions is not necessary,\n// as they're implicitly tested by way of the consumers\n\nexport function isUserModifyWritable(style) {\n  // https://www.w3.org/TR/1999/WD-css3-userint-19990916#user-modify\n  // https://github.com/medialize/ally.js/issues/17\n  const userModify = style.webkitUserModify || '';\n  return Boolean(userModify && userModify.indexOf('write') !== -1);\n}\n\nexport function hasCssOverflowScroll(style) {\n  return [\n    style.getPropertyValue('overflow'),\n    style.getPropertyValue('overflow-x'),\n    style.getPropertyValue('overflow-y'),\n  ].some(overflow => overflow === 'auto' || overflow === 'scroll');\n}\n\nexport function hasCssDisplayFlex(style) {\n  return style.display.indexOf('flex') > -1;\n}\n\nexport function isScrollableContainer(element, nodeName, parentNodeName, parentStyle) {\n  if (nodeName !== 'div' && nodeName !== 'span') {\n    // Internet Explorer advances scrollable containers and bodies to focusable\n    // only if the scrollable container is <div> or <span> - this does *not*\n    // happen for <section>, <article>, â€¦\n    return false;\n  }\n\n  if (parentNodeName && parentNodeName !== 'div' && parentNodeName !== 'span' && !hasCssOverflowScroll(parentStyle)) {\n    return false;\n  }\n\n  return element.offsetHeight < element.scrollHeight || element.offsetWidth < element.scrollWidth;\n}\n"]}