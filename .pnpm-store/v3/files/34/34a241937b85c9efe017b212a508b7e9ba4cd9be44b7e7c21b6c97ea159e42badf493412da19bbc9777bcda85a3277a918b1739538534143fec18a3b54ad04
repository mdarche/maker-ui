{"version":3,"sources":["../../src/get/active-element.js"],"names":["getDocument","context","_document","activeElement","e","nodeType","body","documentElement"],"mappings":";AACA;;;;;;;;AAQA,OAAOA,WAAP,MAAwB,sBAAxB;;AAEA,eAAe,YAA2B;AAAA,iFAAJ,EAAI;AAAA,MAAhBC,OAAgB,QAAhBA,OAAgB;;AACxC,MAAMC,YAAYF,YAAYC,OAAZ,CAAlB;AACA,MAAIE,sBAAJ;;AAEA,MAAI;AACF;AACA;AACAA,oBAAgBD,UAAUC,aAA1B;AACD,GAJD,CAIE,OAAOC,CAAP,EAAU,CAEX;AADC;;;AAGF;AACA;AACA;AACA,MAAI,CAACD,aAAD,IAAkB,CAACA,cAAcE,QAArC,EAA+C;AAC7CF,oBAAgBD,UAAUI,IAAV,IAAkBJ,UAAUK,eAA5C;AACD;;AAED,SAAOJ,aAAP;AACD","file":"active-element.js","sourcesContent":["\n/*\n  create ally.get.activeElement()\n    wrapping ally.get.activeElements()\n\n  fix ally.get.activeElements()\n    https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js\n*/\n\nimport getDocument from '../util/get-document';\n\nexport default function({ context } = {}) {\n  const _document = getDocument(context);\n  let activeElement;\n\n  try {\n    // IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n    // see https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js#L15-L21\n    activeElement = _document.activeElement;\n  } catch (e) {\n    // ignore\n  }\n\n  // IE11 may return null instead of an element\n  // see https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js#L23-L28\n  // https://github.com/jquery/jquery-ui/blob/ffcfb85c9818954adda69e73cf9ba76ea07b554c/ui/safe-active-element.js#L30-L35\n  if (!activeElement || !activeElement.nodeType) {\n    activeElement = _document.body || _document.documentElement;\n  }\n\n  return activeElement;\n}\n"]}