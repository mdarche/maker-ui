{"version":3,"sources":["../../src/get/focus-target.js"],"names":["context","except","element","label","result","getTarget","_element","focusable","rules","skipFocusable","Boolean","slice","some"],"mappings":";;;;;;;;;;;;;;;;;;;oBAUe,YAAiC;AAAA,mFAAJ,EAAI;AAAA,QAAvBA,OAAuB,QAAvBA,OAAuB;AAAA,QAAdC,MAAc,QAAdA,MAAc;;AAC9C,QAAMC,UAAU,gCAAiB;AAC/BC,aAAO,kBADwB;AAE/BH;AAF+B,KAAjB,CAAhB;;AAKA,QAAII,SAAS,IAAb;AACA,QAAMC,YAAY,SAAZA,SAAY,CAASC,QAAT,EAAmB;AACnC,UAAMC,YAAY,oBAAYC,KAAZ,CAAkB;AAClCR,iBAASM,QADyB;AAElCL;AAFkC,OAAlB,CAAlB;;AAKA,UAAIM,SAAJ,EAAe;AACbH,iBAASE,QAAT;AACA,eAAO,IAAP;AACD;;AAEDF,eAAS,mCAAuB;AAC9BJ,iBAASM,QADqB;AAE9BG,uBAAe;AAFe,OAAvB,CAAT;;AAKA,aAAOC,QAAQN,MAAR,CAAP;AACD,KAjBD;;AAmBA,QAAIC,UAAUH,OAAV,CAAJ,EAAwB;AACtB,aAAOE,MAAP;AACD;;AAED,2BAAW,EAACJ,SAASE,OAAV,EAAX,EAA+BS,KAA/B,CAAqC,CAArC,EAAwCC,IAAxC,CAA6CP,SAA7C;AACA,WAAOD,MAAP;AACD,G","file":"focus-target.js","sourcesContent":["\n/*\n  Identify the first focusable element in the element's ancestry, including itself\n*/\n\nimport getFocusRedirectTarget from './focus-redirect-target';\nimport getParents from '../get/parents';\nimport isFocusable from '../is/focusable';\nimport contextToElement from '../util/context-to-element';\n\nexport default function({context, except} = {}) {\n  const element = contextToElement({\n    label: 'get/focus-target',\n    context,\n  });\n\n  let result = null;\n  const getTarget = function(_element) {\n    const focusable = isFocusable.rules({\n      context: _element,\n      except,\n    });\n\n    if (focusable) {\n      result = _element;\n      return true;\n    }\n\n    result = getFocusRedirectTarget({\n      context: _element,\n      skipFocusable: true,\n    });\n\n    return Boolean(result);\n  };\n\n  if (getTarget(element)) {\n    return result;\n  }\n\n  getParents({context: element}).slice(1).some(getTarget);\n  return result;\n}\n"]}