{"version":3,"sources":["../../src/is/disabled.js"],"names":["contextToElement","getParents","isNativeDisabledSupported","_supports","supports","isDisabledFieldset","element","nodeName","toLowerCase","disabled","isDisabledForm","context","label","hasAttribute","parents","some","focusFormDisabled"],"mappings":";AACA;;AAEA,OAAOA,gBAAP,MAA6B,4BAA7B;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AACA,OAAOC,yBAAP,MAAsC,6BAAtC;;AAEA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,IAAIC,iBAAJ;;AAEA,SAASC,kBAAT,CAA4BC,OAA5B,EAAqC;AACnC,MAAMC,WAAWD,QAAQC,QAAR,CAAiBC,WAAjB,EAAjB;AACA,SAAOD,aAAa,UAAb,IAA2BD,QAAQG,QAA1C;AACD;;AAED,SAASC,cAAT,CAAwBJ,OAAxB,EAAiC;AAC/B,MAAMC,WAAWD,QAAQC,QAAR,CAAiBC,WAAjB,EAAjB;AACA,SAAOD,aAAa,MAAb,IAAuBD,QAAQG,QAAtC;AACD;;AAED,eAAe,UAASE,OAAT,EAAkB;AAC/B,MAAI,CAACP,QAAL,EAAe;AACbA,eAAWD,WAAX;AACD;;AAED,MAAMG,UAAUN,iBAAiB;AAC/BY,WAAO,aADwB;AAE/BD;AAF+B,GAAjB,CAAhB;;AAKA,MAAIL,QAAQO,YAAR,CAAqB,oBAArB,CAAJ,EAAgD;AAC9C;AACA,WAAO,IAAP;AACD;;AAED,MAAI,CAACX,0BAA0BI,OAA1B,CAAL,EAAyC;AACvC;AACA,WAAO,KAAP;AACD;;AAED,MAAIA,QAAQG,QAAZ,EAAsB;AACpB;AACA,WAAO,IAAP;AACD;;AAED,MAAMK,UAAUb,WAAW,EAACU,SAASL,OAAV,EAAX,CAAhB;AACA,MAAIQ,QAAQC,IAAR,CAAaV,kBAAb,CAAJ,EAAsC;AACpC;AACA,WAAO,IAAP;AACD;;AAED,MAAI,CAACD,SAASY,iBAAV,IAA+BF,QAAQC,IAAR,CAAaL,cAAb,CAAnC,EAAiE;AAC/D;AACA,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD","file":"disabled.js","sourcesContent":["\n// Determine if an element is disabled (i.e. not editable)\n\nimport contextToElement from '../util/context-to-element';\nimport getParents from '../get/parents';\nimport isNativeDisabledSupported from './native-disabled-supported';\n\nimport _supports from '../supports/supports';\nlet supports;\n\nfunction isDisabledFieldset(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'fieldset' && element.disabled;\n}\n\nfunction isDisabledForm(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'form' && element.disabled;\n}\n\nexport default function(context) {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  const element = contextToElement({\n    label: 'is/disabled',\n    context,\n  });\n\n  if (element.hasAttribute('data-ally-disabled')) {\n    // treat ally's element/disabled like the DOM native element.disabled\n    return true;\n  }\n\n  if (!isNativeDisabledSupported(element)) {\n    // non-form elements do not support the disabled attribute\n    return false;\n  }\n\n  if (element.disabled) {\n    // the element itself is disabled\n    return true;\n  }\n\n  const parents = getParents({context: element});\n  if (parents.some(isDisabledFieldset)) {\n    // a parental <fieldset> is disabld and inherits the state onto this element\n    return true;\n  }\n\n  if (!supports.focusFormDisabled && parents.some(isDisabledForm)) {\n    // a parental <form> is disabld and inherits the state onto this element\n    return true;\n  }\n\n  return false;\n}\n"]}