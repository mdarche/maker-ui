{"version":3,"sources":["../../src/util/decorate-context.js"],"names":["engage","disengage","data","noop","context","initialize","bind","destruct","forEach","document"],"mappings":";;;;;;kBA6Be,YAAmC;AAAA,kFAAJ,EAAI;AAAA,MAAzBA,MAAyB,SAAzBA,MAAyB;AAAA,MAAjBC,SAAiB,SAAjBA,SAAiB;;AAChD,MAAMC,OAAO;AACXF,YAAQA,UAAUG,IADP;AAEXF,eAAWA,aAAaE,IAFb;AAGXC,aAAS;AAHE,GAAb;;AAMA,SAAOC,WAAWC,IAAX,CAAgBJ,IAAhB,CAAP;AACD,C;;AA/BD;;;;;;AAEA,SAASK,QAAT,GAAkB,oBAAsB;AACtC,MAAI,CAAC,KAAKH,OAAV,EAAmB;AACjB;AACD;;AAED,OAAKA,OAAL,CAAaI,OAAb,CAAqB,KAAKP,SAA1B;AACA,OAAKG,OAAL,GAAe,IAAf;AACA,OAAKJ,MAAL,GAAc,IAAd;AACA,OAAKC,SAAL,GAAiB,IAAjB;AACD;AAhBD;;;;;AAkBA,SAASI,UAAT,GAAoC;AAAA,iFAAJ,EAAI;AAAA,MAAfD,OAAe,QAAfA,OAAe;;AAClC,OAAKA,OAAL,GAAe,yBAAUA,WAAWK,QAArB,CAAf;AACA,OAAKL,OAAL,CAAaI,OAAb,CAAqB,KAAKR,MAA1B;AACA,SAAO;AACLC,eAAWM,SAASD,IAAT,CAAc,IAAd;AADN,GAAP;AAGD;;AAED,SAASH,IAAT,GAAgB,CAAE","file":"decorate-context.js","sourcesContent":["\n/*\n  The Context Decorator is intended to allow modules to easily map dis/engage methods to the general\n  dis/engage and context API format\n*/\n\nimport nodeArray from '../util/node-array';\n\nfunction destruct(/* {force: false} */) {\n  if (!this.context) {\n    return;\n  }\n\n  this.context.forEach(this.disengage);\n  this.context = null;\n  this.engage = null;\n  this.disengage = null;\n}\n\nfunction initialize({context} = {}) {\n  this.context = nodeArray(context || document);\n  this.context.forEach(this.engage);\n  return {\n    disengage: destruct.bind(this),\n  };\n}\n\nfunction noop() {}\n\nexport default function({engage, disengage} = {}) {\n  const data = {\n    engage: engage || noop,\n    disengage: disengage || noop,\n    context: null,\n  };\n\n  return initialize.bind(data);\n}\n"]}