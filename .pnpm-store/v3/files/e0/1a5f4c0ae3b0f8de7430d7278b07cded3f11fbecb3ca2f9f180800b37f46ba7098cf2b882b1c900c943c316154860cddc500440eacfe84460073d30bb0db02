{"version":3,"sources":["../../src/util/toggle-class.js"],"names":["toggleClass","removeClass","addClass","getClassNames","element","className","getAttribute","split","force","classNames","idx","indexOf","hasClass","shouldHaveClass","undefined","splice","push","setAttribute","join"],"mappings":";;;;;;;;;;;;;;;;;;UA4BgBA,W,GAAAA,W;UAoBAC,W,GAAAA,W;UAIAC,Q,GAAAA,Q;AApDhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,WAASC,aAAT,CAAuBC,OAAvB,EAAgC;AAC9B,QAAMC,YAAYD,QAAQE,YAAR,IAAwBF,QAAQE,YAAR,CAAqB,OAArB,CAAxB,IAAyD,EAA3E;AACA,WAAOD,cAAc,EAAd,GAAmB,EAAnB,GAAwBA,UAAUE,KAAV,CAAgB,GAAhB,CAA/B;AACD;;AAEM,WAASP,WAAT,CAAqBI,OAArB,EAA8BC,SAA9B,EAAyCG,KAAzC,EAAgD;AACrD,QAAMC,aAAaN,cAAcC,OAAd,CAAnB;AACA,QAAMM,MAAMD,WAAWE,OAAX,CAAmBN,SAAnB,CAAZ;AACA,QAAMO,WAAWF,QAAQ,CAAC,CAA1B;AACA,QAAMG,kBAAkBL,UAAUM,SAAV,GAAsBN,KAAtB,GAA8B,CAACI,QAAvD;AACA;AACA,QAAIC,oBAAoBD,QAAxB,EAAkC;AAChC;AACD;AACD;AACA,QAAI,CAACC,eAAL,EAAsB;AACpBJ,iBAAWM,MAAX,CAAkBL,GAAlB,EAAuB,CAAvB;AACD;AACD;AACA,QAAIG,eAAJ,EAAqB;AACnBJ,iBAAWO,IAAX,CAAgBX,SAAhB;AACD;AACDD,YAAQa,YAAR,CAAqB,OAArB,EAA8BR,WAAWS,IAAX,CAAgB,GAAhB,CAA9B;AACD;;AAEM,WAASjB,WAAT,CAAqBG,OAArB,EAA8BC,SAA9B,EAAyC;AAC9C,WAAOL,YAAYI,OAAZ,EAAqBC,SAArB,EAAgC,KAAhC,CAAP;AACD;;AAEM,WAASH,QAAT,CAAkBE,OAAlB,EAA2BC,SAA3B,EAAsC;AAC3C,WAAOL,YAAYI,OAAZ,EAAqBC,SAArB,EAAgC,IAAhC,CAAP;AACD","file":"toggle-class.js","sourcesContent":["//\n// This util allows to easily add, remove or toggle classes.\n//\n// Using it is neccessary as IE 9 doesn't support element classList\n// and IE 11 doesn't support classList for SVG elements\n// see also https://developer.mozilla.org/en/docs/Web/API/Element/classList\n//\n// This file is a replacement for domtokenlist because of\n// https://github.com/medialize/ally.js/issues/147\n//\n// Usage:\n//\n// toggleClass(div, 'demo'); // Toggles the class `demo`\n// toggleClass(div, 'demo', true); // Adds the class `demo`\n// toggleClass(div, 'demo', false); // removes the class `demo`\n//\n// removeClass(div, 'demo');\n// addClass(div, 'demo');\n//\n\n/**\n * Extract an array of all classNames of the given DOM or SVG node\n */\nfunction getClassNames(element) {\n  const className = element.getAttribute && element.getAttribute('class') || '';\n  return className === '' ? [] : className.split(' ');\n}\n\nexport function toggleClass(element, className, force) {\n  const classNames = getClassNames(element);\n  const idx = classNames.indexOf(className);\n  const hasClass = idx !== -1;\n  const shouldHaveClass = force !== undefined ? force : !hasClass;\n  // Break if classes are already set/removed\n  if (shouldHaveClass === hasClass) {\n    return;\n  }\n  // Remove class\n  if (!shouldHaveClass) {\n    classNames.splice(idx, 1);\n  }\n  // Add class\n  if (shouldHaveClass) {\n    classNames.push(className);\n  }\n  element.setAttribute('class', classNames.join(' '));\n}\n\nexport function removeClass(element, className) {\n  return toggleClass(element, className, false);\n}\n\nexport function addClass(element, className) {\n  return toggleClass(element, className, true);\n}\n"]}