{"version":3,"sources":["../../src/util/get-frame-element.js"],"names":["getFrameElement","selector","findDocumentHostElement","_window","_frameElement","undefined","potentialHosts","parent","document","querySelectorAll","some","call","element","_document","frameElement","e"],"mappings":";;;;;kBAgCwBA,e;;AA/BxB;;;;AACA;;;;AACA;;;;;;AAEA,IAAIC,iBAAJ;;AAEA,SAASC,uBAAT,CAAiCC,OAAjC,EAA0C;AACxC,MAAI,CAACF,QAAL,EAAe;AACbA,eAAW,+BAAgB,gBAAhB,CAAX;AACD;;AAED,MAAIE,QAAQC,aAAR,KAA0BC,SAA9B,EAAyC;AACvC,WAAOF,QAAQC,aAAf;AACD;;AAEDD,UAAQC,aAAR,GAAwB,IAAxB;;AAEA,MAAME,iBAAiBH,QAAQI,MAAR,CAAeC,QAAf,CAAwBC,gBAAxB,CAAyCR,QAAzC,CAAvB;AACA,KAAGS,IAAH,CAAQC,IAAR,CAAaL,cAAb,EAA6B,UAASM,OAAT,EAAkB;AAC7C,QAAMC,YAAY,kCAAmBD,OAAnB,CAAlB;AACA,QAAIC,cAAcV,QAAQK,QAA1B,EAAoC;AAClC,aAAO,KAAP;AACD;;AAEDL,YAAQC,aAAR,GAAwBQ,OAAxB;AACA,WAAO,IAAP;AACD,GARD;;AAUA,SAAOT,QAAQC,aAAf;AACD;;AAEc,SAASJ,eAAT,CAAyBY,OAAzB,EAAkC;AAC/C,MAAMT,UAAU,yBAAUS,OAAV,CAAhB;AACA,MAAI,CAACT,QAAQI,MAAT,IAAmBJ,QAAQI,MAAR,KAAmBJ,OAA1C,EAAmD;AACjD;AACA;AACA,WAAO,IAAP;AACD;;AAED,MAAI;AACF;AACA;AACA,WAAOA,QAAQW,YAAR,IAAwBZ,wBAAwBC,OAAxB,CAA/B;AACD,GAJD,CAIE,OAAOY,CAAP,EAAU;AACV,WAAO,IAAP;AACD;AACF","file":"get-frame-element.js","sourcesContent":["\nimport getContentDocument from './get-content-document';\nimport getWindow from './get-window';\nimport selectInShadows from './select-in-shadows';\n\nlet selector;\n\nfunction findDocumentHostElement(_window) {\n  if (!selector) {\n    selector = selectInShadows('object, iframe');\n  }\n\n  if (_window._frameElement !== undefined) {\n    return _window._frameElement;\n  }\n\n  _window._frameElement = null;\n\n  const potentialHosts = _window.parent.document.querySelectorAll(selector);\n  [].some.call(potentialHosts, function(element) {\n    const _document = getContentDocument(element);\n    if (_document !== _window.document) {\n      return false;\n    }\n\n    _window._frameElement = element;\n    return true;\n  });\n\n  return _window._frameElement;\n}\n\nexport default function getFrameElement(element) {\n  const _window = getWindow(element);\n  if (!_window.parent || _window.parent === _window) {\n    // if there is no parent browsing context,\n    // we're not going to get a frameElement either way\n    return null;\n  }\n\n  try {\n    // see https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement\n    // does not work within <embed> anywhere, and not within in <object> in IE\n    return _window.frameElement || findDocumentHostElement(_window);\n  } catch (e) {\n    return null;\n  }\n}\n"]}