{"version":3,"sources":["../../src/is/disabled.js"],"names":["context","supports","element","label","hasAttribute","disabled","parents","some","isDisabledFieldset","focusFormDisabled","isDisabledForm","nodeName","toLowerCase"],"mappings":";;;;;;kBAoBe,UAASA,OAAT,EAAkB;AAC/B,MAAI,CAACC,QAAL,EAAe;AACbA,eAAW,yBAAX;AACD;;AAED,MAAMC,UAAU,gCAAiB;AAC/BC,WAAO,aADwB;AAE/BH;AAF+B,GAAjB,CAAhB;;AAKA,MAAIE,QAAQE,YAAR,CAAqB,oBAArB,CAAJ,EAAgD;AAC9C;AACA,WAAO,IAAP;AACD;;AAED,MAAI,CAAC,uCAA0BF,OAA1B,CAAL,EAAyC;AACvC;AACA,WAAO,KAAP;AACD;;AAED,MAAIA,QAAQG,QAAZ,EAAsB;AACpB;AACA,WAAO,IAAP;AACD;;AAED,MAAMC,UAAU,uBAAW,EAACN,SAASE,OAAV,EAAX,CAAhB;AACA,MAAII,QAAQC,IAAR,CAAaC,kBAAb,CAAJ,EAAsC;AACpC;AACA,WAAO,IAAP;AACD;;AAED,MAAI,CAACP,SAASQ,iBAAV,IAA+BH,QAAQC,IAAR,CAAaG,cAAb,CAAnC,EAAiE;AAC/D;AACA,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,C;;AAtDD;;;;AACA;;;;AACA;;;;AAEA;;;;;;AANA;;AAOA,IAAIT,iBAAJ;;AAEA,SAASO,kBAAT,CAA4BN,OAA5B,EAAqC;AACnC,MAAMS,WAAWT,QAAQS,QAAR,CAAiBC,WAAjB,EAAjB;AACA,SAAOD,aAAa,UAAb,IAA2BT,QAAQG,QAA1C;AACD;;AAED,SAASK,cAAT,CAAwBR,OAAxB,EAAiC;AAC/B,MAAMS,WAAWT,QAAQS,QAAR,CAAiBC,WAAjB,EAAjB;AACA,SAAOD,aAAa,MAAb,IAAuBT,QAAQG,QAAtC;AACD","file":"disabled.js","sourcesContent":["\n// Determine if an element is disabled (i.e. not editable)\n\nimport contextToElement from '../util/context-to-element';\nimport getParents from '../get/parents';\nimport isNativeDisabledSupported from './native-disabled-supported';\n\nimport _supports from '../supports/supports';\nlet supports;\n\nfunction isDisabledFieldset(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'fieldset' && element.disabled;\n}\n\nfunction isDisabledForm(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'form' && element.disabled;\n}\n\nexport default function(context) {\n  if (!supports) {\n    supports = _supports();\n  }\n\n  const element = contextToElement({\n    label: 'is/disabled',\n    context,\n  });\n\n  if (element.hasAttribute('data-ally-disabled')) {\n    // treat ally's element/disabled like the DOM native element.disabled\n    return true;\n  }\n\n  if (!isNativeDisabledSupported(element)) {\n    // non-form elements do not support the disabled attribute\n    return false;\n  }\n\n  if (element.disabled) {\n    // the element itself is disabled\n    return true;\n  }\n\n  const parents = getParents({context: element});\n  if (parents.some(isDisabledFieldset)) {\n    // a parental <fieldset> is disabld and inherits the state onto this element\n    return true;\n  }\n\n  if (!supports.focusFormDisabled && parents.some(isDisabledForm)) {\n    // a parental <form> is disabld and inherits the state onto this element\n    return true;\n  }\n\n  return false;\n}\n"]}