{"version":3,"sources":["../../src/util/get-frame-element.js"],"names":["getFrameElement","selector","findDocumentHostElement","_window","_frameElement","undefined","potentialHosts","parent","document","querySelectorAll","some","call","element","_document","frameElement","e"],"mappings":";;;;;;;;;;;;;;;;;;oBAgCwBA,e;;;;;;;;;;;;;;AA3BxB,MAAIC,iBAAJ;;AAEA,WAASC,uBAAT,CAAiCC,OAAjC,EAA0C;AACxC,QAAI,CAACF,QAAL,EAAe;AACbA,iBAAW,+BAAgB,gBAAhB,CAAX;AACD;;AAED,QAAIE,QAAQC,aAAR,KAA0BC,SAA9B,EAAyC;AACvC,aAAOF,QAAQC,aAAf;AACD;;AAEDD,YAAQC,aAAR,GAAwB,IAAxB;;AAEA,QAAME,iBAAiBH,QAAQI,MAAR,CAAeC,QAAf,CAAwBC,gBAAxB,CAAyCR,QAAzC,CAAvB;AACA,OAAGS,IAAH,CAAQC,IAAR,CAAaL,cAAb,EAA6B,UAASM,OAAT,EAAkB;AAC7C,UAAMC,YAAY,kCAAmBD,OAAnB,CAAlB;AACA,UAAIC,cAAcV,QAAQK,QAA1B,EAAoC;AAClC,eAAO,KAAP;AACD;;AAEDL,cAAQC,aAAR,GAAwBQ,OAAxB;AACA,aAAO,IAAP;AACD,KARD;;AAUA,WAAOT,QAAQC,aAAf;AACD;;AAEc,WAASJ,eAAT,CAAyBY,OAAzB,EAAkC;AAC/C,QAAMT,UAAU,yBAAUS,OAAV,CAAhB;AACA,QAAI,CAACT,QAAQI,MAAT,IAAmBJ,QAAQI,MAAR,KAAmBJ,OAA1C,EAAmD;AACjD;AACA;AACA,aAAO,IAAP;AACD;;AAED,QAAI;AACF;AACA;AACA,aAAOA,QAAQW,YAAR,IAAwBZ,wBAAwBC,OAAxB,CAA/B;AACD,KAJD,CAIE,OAAOY,CAAP,EAAU;AACV,aAAO,IAAP;AACD;AACF","file":"get-frame-element.js","sourcesContent":["\nimport getContentDocument from './get-content-document';\nimport getWindow from './get-window';\nimport selectInShadows from './select-in-shadows';\n\nlet selector;\n\nfunction findDocumentHostElement(_window) {\n  if (!selector) {\n    selector = selectInShadows('object, iframe');\n  }\n\n  if (_window._frameElement !== undefined) {\n    return _window._frameElement;\n  }\n\n  _window._frameElement = null;\n\n  const potentialHosts = _window.parent.document.querySelectorAll(selector);\n  [].some.call(potentialHosts, function(element) {\n    const _document = getContentDocument(element);\n    if (_document !== _window.document) {\n      return false;\n    }\n\n    _window._frameElement = element;\n    return true;\n  });\n\n  return _window._frameElement;\n}\n\nexport default function getFrameElement(element) {\n  const _window = getWindow(element);\n  if (!_window.parent || _window.parent === _window) {\n    // if there is no parent browsing context,\n    // we're not going to get a frameElement either way\n    return null;\n  }\n\n  try {\n    // see https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement\n    // does not work within <embed> anywhere, and not within in <object> in IE\n    return _window.frameElement || findDocumentHostElement(_window);\n  } catch (e) {\n    return null;\n  }\n}\n"]}