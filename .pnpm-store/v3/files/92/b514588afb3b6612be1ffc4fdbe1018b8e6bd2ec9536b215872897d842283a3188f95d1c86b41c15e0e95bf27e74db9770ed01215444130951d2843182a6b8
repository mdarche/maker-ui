{"version":3,"sources":["../../src/element/focus.svg-foreign-object-hack.js"],"names":["makeFocusableForeignObject","fragment","document","createElement","innerHTML","firstChild","element","isSvgElement","ownerSVGElement","nodeName","toLowerCase","foreignObject","appendChild","input","querySelector","focus","disabled","removeChild"],"mappings":";AACA,SAASA,0BAAT,GAAsC;AACpC,MAAMC,WAAWC,SAASC,aAAT,CAAuB,KAAvB,CAAjB;AACAF,WAASG,SAAT;;AAIA,SAAOH,SAASI,UAAT,CAAoBA,UAA3B;AACD;;AAED,eAAe,UAASC,OAAT,EAAkB;AAC/B;AACA;AACA;AACA,MAAMC,eAAeD,QAAQE,eAAR,IAA2BF,QAAQG,QAAR,CAAiBC,WAAjB,OAAmC,KAAnF;AACA,MAAI,CAACH,YAAL,EAAmB;AACjB,WAAO,KAAP;AACD;;AAED;AACA,MAAMI,gBAAgBX,4BAAtB;AACAM,UAAQM,WAAR,CAAoBD,aAApB;AACA,MAAME,QAAQF,cAAcG,aAAd,CAA4B,OAA5B,CAAd;AACAD,QAAME,KAAN;;AAEA;AACA;AACA;AACA;AACAF,QAAMG,QAAN,GAAiB,IAAjB;;AAEA;AACAV,UAAQW,WAAR,CAAoBN,aAApB;AACA,SAAO,IAAP;AACD","file":"focus.svg-foreign-object-hack.js","sourcesContent":["\nfunction makeFocusableForeignObject() {\n  const fragment = document.createElement('div');\n  fragment.innerHTML = `<svg><foreignObject width=\"30\" height=\"30\">\n      <input type=\"text\"/>\n  </foreignObject></svg>`;\n\n  return fragment.firstChild.firstChild;\n}\n\nexport default function(element) {\n  // Edge13, Edge14: foreignObject focus hack\n  // https://jsbin.com/kunehinugi/edit?html,js,output\n  // https://jsbin.com/fajagi/3/edit?html,js,output\n  const isSvgElement = element.ownerSVGElement || element.nodeName.toLowerCase() === 'svg';\n  if (!isSvgElement) {\n    return false;\n  }\n\n  // inject and focus an <input> element into the SVG element to receive focus\n  const foreignObject = makeFocusableForeignObject();\n  element.appendChild(foreignObject);\n  const input = foreignObject.querySelector('input');\n  input.focus();\n\n  // upon disabling the activeElement, IE and Edge\n  // will not shift focus to <body> like all the other\n  // browsers, but instead find the first focusable\n  // ancestor and shift focus to that\n  input.disabled = true;\n\n  // clean up\n  element.removeChild(foreignObject);\n  return true;\n}\n"]}