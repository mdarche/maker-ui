{"version":3,"sources":["../../src/element/focus.svg-foreign-object-hack.js"],"names":["element","isSvgElement","ownerSVGElement","nodeName","toLowerCase","foreignObject","makeFocusableForeignObject","appendChild","input","querySelector","focus","disabled","removeChild","fragment","document","createElement","innerHTML","firstChild"],"mappings":";;;;;;;;;;;;;;;;;;;oBAUe,UAASA,OAAT,EAAkB;AAC/B;AACA;AACA;AACA,QAAMC,eAAeD,QAAQE,eAAR,IAA2BF,QAAQG,QAAR,CAAiBC,WAAjB,OAAmC,KAAnF;AACA,QAAI,CAACH,YAAL,EAAmB;AACjB,aAAO,KAAP;AACD;;AAED;AACA,QAAMI,gBAAgBC,4BAAtB;AACAN,YAAQO,WAAR,CAAoBF,aAApB;AACA,QAAMG,QAAQH,cAAcI,aAAd,CAA4B,OAA5B,CAAd;AACAD,UAAME,KAAN;;AAEA;AACA;AACA;AACA;AACAF,UAAMG,QAAN,GAAiB,IAAjB;;AAEA;AACAX,YAAQY,WAAR,CAAoBP,aAApB;AACA,WAAO,IAAP;AACD,G;;AAjCD,WAASC,0BAAT,GAAsC;AACpC,QAAMO,WAAWC,SAASC,aAAT,CAAuB,KAAvB,CAAjB;AACAF,aAASG,SAAT;;AAIA,WAAOH,SAASI,UAAT,CAAoBA,UAA3B;AACD","file":"focus.svg-foreign-object-hack.js","sourcesContent":["\nfunction makeFocusableForeignObject() {\n  const fragment = document.createElement('div');\n  fragment.innerHTML = `<svg><foreignObject width=\"30\" height=\"30\">\n      <input type=\"text\"/>\n  </foreignObject></svg>`;\n\n  return fragment.firstChild.firstChild;\n}\n\nexport default function(element) {\n  // Edge13, Edge14: foreignObject focus hack\n  // https://jsbin.com/kunehinugi/edit?html,js,output\n  // https://jsbin.com/fajagi/3/edit?html,js,output\n  const isSvgElement = element.ownerSVGElement || element.nodeName.toLowerCase() === 'svg';\n  if (!isSvgElement) {\n    return false;\n  }\n\n  // inject and focus an <input> element into the SVG element to receive focus\n  const foreignObject = makeFocusableForeignObject();\n  element.appendChild(foreignObject);\n  const input = foreignObject.querySelector('input');\n  input.focus();\n\n  // upon disabling the activeElement, IE and Edge\n  // will not shift focus to <body> like all the other\n  // browsers, but instead find the first focusable\n  // ancestor and shift focus to that\n  input.disabled = true;\n\n  // clean up\n  element.removeChild(foreignObject);\n  return true;\n}\n"]}