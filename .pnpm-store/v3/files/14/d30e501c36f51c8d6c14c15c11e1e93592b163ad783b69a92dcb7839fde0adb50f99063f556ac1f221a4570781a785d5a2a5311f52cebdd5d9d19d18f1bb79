{"version":3,"sources":["../../src/supports/focus-redirect-legend.js"],"names":["element","mutate","innerHTML","validate","focusTarget","_document","focusable","querySelector","tabbable","focus","activeElement"],"mappings":";;;;;;;;;;;;;;;;;;oBAGe;AACbA,aAAS,UADI;AAEbC,YAAQ,gBAASD,OAAT,EAAkB;AACxBA,cAAQE,SAAR,GAAoB,kEAApB;AACA;AACA,aAAO,KAAP;AACD,KANY;AAObC,cAAU,kBAASH,OAAT,EAAkBI,WAAlB,EAA+BC,SAA/B,EAA0C;AAClD,UAAMC,YAAYN,QAAQO,aAAR,CAAsB,sBAAtB,CAAlB;AACA,UAAMC,WAAWR,QAAQO,aAAR,CAAsB,qBAAtB,CAAjB;;AAEA;AACA;AACAP,cAAQS,KAAR;;AAEAT,cAAQO,aAAR,CAAsB,QAAtB,EAAgCE,KAAhC;AACA,aAAOJ,UAAUK,aAAV,KAA4BJ,SAA5B,IAAyC,WAAzC,IACFD,UAAUK,aAAV,KAA4BF,QAA5B,IAAwC,UADtC,IAEF,EAFL;AAGD;AAnBY,G","file":"focus-redirect-legend.js","sourcesContent":["\n// see https://jsbin.com/nenirisage/edit?html,js,console,output\n\nexport default {\n  element: 'fieldset',\n  mutate: function(element) {\n    element.innerHTML = '<legend>legend</legend><input tabindex=\"-1\"><input tabindex=\"0\">';\n    // take care of focus in validate();\n    return false;\n  },\n  validate: function(element, focusTarget, _document) {\n    const focusable = element.querySelector('input[tabindex=\"-1\"]');\n    const tabbable = element.querySelector('input[tabindex=\"0\"]');\n\n    // Firefox requires this test to focus the <fieldset> first, while this is not necessary in\n    // https://jsbin.com/nenirisage/edit?html,js,console,output\n    element.focus();\n\n    element.querySelector('legend').focus();\n    return _document.activeElement === focusable && 'focusable'\n      || _document.activeElement === tabbable && 'tabbable'\n      || '';\n  },\n};\n"]}