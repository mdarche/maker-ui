import type {
  // FormErrors,
  // FormSchema,
  // FormValues,
  FileValidations,
} from '@/types'

export function validateForm(type: 'field' | 'page' | '*') {}

interface Validation {
  status: boolean
  errors: string[]
}

const defaultReqs: FileValidations = {
  size: 4097152, // 4MB
  types: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'],
}

export function validateFile(
  { size, type }: File,
  reqs = defaultReqs
): Validation {
  let v: Validation = { status: true, errors: [] }

  // Validate Size
  if (size > reqs.size) {
    v.status = false
    v.errors.push('Uploads must be no larger than 4MB.')
  }
  // Validate file type
  if (!reqs.types.includes(type)) {
    v.status = false
    v.errors.push(`Unsupported file type: ${type}.`)
  }
  return v
}
